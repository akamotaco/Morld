# 의류 시스템 테스트 체크리스트

## 테스트 상태: 미테스트

---

## 현재 상태 요약

### 의류 슬롯 시스템
| 슬롯 | 키 형식 | 설명 |
|------|---------|------|
| 상의 | `착용:상의` | 셔츠, 블라우스, 스웨터 등 |
| 하의 | `착용:하의` | 바지, 치마 등 |
| 외투 | `착용:외투` | 코트, 조끼, 앞치마 (상의/하의 위에 중복 가능) |
| 속옷상의 | `착용:속옷상의` | 브라 등 |
| 속옷하의 | `착용:속옷하의` | 팬티 등 |
| 양말 | `착용:양말` | 양말, 스타킹, 사이하이삭스 등 |
| 신발 | `착용:신발` | 신발, 부츠, 하이힐 등 |
| 모자 | `착용:모자` | 모자, 머리띠, 리본 등 |
| 안경 | `착용:안경` | 안경, 선글라스, 모노클 등 |
| 망토 | `착용:망토` | 망토, 후드 망토 등 |

### 일체형 의류
- 선드레스, 메이드복 등: `{"착용:상의": 1, "착용:하의": 1}` 두 슬롯 동시 점유
- 일체형 착용 시 기존 상의/하의 자동 해제

### 분위기 시스템
의류 착용 시 캐릭터에게 "분위기" 속성이 부여됩니다. (equip_props)

| 분위기 | 키 형식 | 설명 |
|--------|---------|------|
| 깔끔함 | `분위기:깔끔함` | 깨끗하고 정돈된 느낌 |
| 단정함 | `분위기:단정함` | 반듯하고 예의바른 느낌 |
| 활동적 | `분위기:활동적` | 움직임이 편한 느낌 |
| 우아함 | `분위기:우아함` | 고급스럽고 세련된 느낌 |
| 따뜻함 | `분위기:따뜻함` | 포근하고 따뜻한 느낌 |
| 더러움 | `분위기:더러움` | 지저분한 느낌 |
| 냄새남 | `분위기:냄새남` | 악취가 나는 느낌 |
| 섹시함 | `분위기:섹시함` | 성적 매력이 있는 느낌 |
| 귀여움 | `분위기:귀여움` | 사랑스러운 느낌 |
| 신비로움 | `분위기:신비로움` | 신비로운 느낌 |
| 멋짐 | `분위기:멋짐` | 멋진 느낌 |

### 액션
| 액션 | 컨텍스트 | 설명 |
|------|---------|------|
| `wear` | @inventory | 입기 (플레이어) |
| `unwear` | @equipped | 벗기 (플레이어) |
| `dress` | @npc | 입히기 (NPC - 테스트용) |
| `undress` | @npc_equipped | 벗기기 (NPC - 테스트용) |

---

## 1. 의류 아이템 목록

### 일반 상의
| unique_id | 이름 | 슬롯 | 분위기 |
|-----------|------|------|--------|
| `simple_shirt` | 셔츠 | 착용:상의 | 깔끔함 |
| `linen_shirt` | 린넨 셔츠 | 착용:상의 | 깔끔함, 활동적 |
| `blouse` | 블라우스 | 착용:상의 | 단정함, 우아함 |
| `white_blouse` | 흰 블라우스 | 착용:상의 | 깔끔함, 단정함 |
| `tank_top` | 탱크탑 | 착용:상의 | 활동적 |
| `sweater` | 스웨터 | 착용:상의 | 따뜻함, 귀여움 |
| `turtleneck_sweater` | 터틀넥 스웨터 | 착용:상의 | 따뜻함, 단정함 |
| `crop_top` | 크롭탑 | 착용:상의 | 활동적, 섹시함 |

### 일반 하의
| unique_id | 이름 | 슬롯 | 분위기 |
|-----------|------|------|--------|
| `simple_pants` | 바지 | 착용:하의 | 깔끔함 |
| `linen_pants` | 린넨 바지 | 착용:하의 | 깔끔함, 활동적 |
| `long_skirt` | 긴 치마 | 착용:하의 | 단정함, 우아함 |
| `shorts` | 반바지 | 착용:하의 | 활동적 |
| `mini_skirt` | 미니스커트 | 착용:하의 | 활동적, 섹시함 |
| `pleated_skirt` | 플리츠 스커트 | 착용:하의 | 단정함, 귀여움 |
| `hot_pants` | 핫팬츠 | 착용:하의 | 활동적, 섹시함 |
| `leggings` | 레깅스 | 착용:하의 | 활동적 |

### 일체형 (상의+하의)
| unique_id | 이름 | 슬롯 | 분위기 |
|-----------|------|------|--------|
| `ragged_clothes` | 누더기 | 착용:상의, 착용:하의 | 더러움, 냄새남 |
| `sundress` | 선드레스 | 착용:상의, 착용:하의 | 깔끔함, 활동적 |
| `maid_dress` | 메이드복 | 착용:상의, 착용:하의 | 단정함, 깔끔함 |
| `work_dress` | 작업복 | 착용:상의, 착용:하의 | 활동적 |
| `sera_hunting_outfit` | 사냥복 | 착용:상의, 착용:하의 | 활동적, 단정함 |
| `evening_dress` | 이브닝 드레스 | 착용:상의, 착용:하의 | 우아함, 섹시함 |
| `night_gown` | 나이트가운 | 착용:상의, 착용:하의 | 우아함, 섹시함 |
| `pajamas` | 잠옷 | 착용:상의, 착용:하의 | 귀여움, 따뜻함 |
| `swimsuit` | 수영복 | 착용:상의, 착용:하의 | 활동적, 섹시함 |
| `bikini` | 비키니 | 착용:상의, 착용:하의 | 섹시함, 활동적 |

### 외투
| unique_id | 이름 | 슬롯 | 분위기 | 추가 효과 |
|-----------|------|------|--------|----------|
| `light_jacket` | 재킷 | 착용:외투 | 깔끔함 | - |
| `hunting_vest` | 사냥용 조끼 | 착용:외투 | 활동적 | 수납+2 |
| `apron` | 앞치마 | 착용:외투 | 단정함 | - |
| `mila_apron` | 밀라의 앞치마 | 착용:외투 | 단정함, 따뜻함 | owner: mila |
| `warm_coat` | 코트 | 착용:외투 | 따뜻함, 우아함 | 보온+2 |

### 속옷 - 상의 (브라)
| unique_id | 이름 | 슬롯 | 분위기 |
|-----------|------|------|--------|
| `simple_bra` | 브라 | 착용:속옷상의 | - |
| `lace_bra` | 레이스 브라 | 착용:속옷상의 | 섹시함, 우아함 |
| `sports_bra` | 스포츠 브라 | 착용:속옷상의 | 활동적 |
| `cute_bra` | 귀여운 브라 | 착용:속옷상의 | 귀여움 |

### 속옷 - 하의 (팬티)
| unique_id | 이름 | 슬롯 | 분위기 |
|-----------|------|------|--------|
| `simple_panties` | 팬티 | 착용:속옷하의 | - |
| `lace_panties` | 레이스 팬티 | 착용:속옷하의 | 섹시함, 우아함 |
| `cotton_panties` | 면 팬티 | 착용:속옷하의 | 깔끔함 |
| `cute_panties` | 귀여운 팬티 | 착용:속옷하의 | 귀여움 |

### 양말류
| unique_id | 이름 | 슬롯 | 분위기 |
|-----------|------|------|--------|
| `simple_socks` | 양말 | 착용:양말 | 깔끔함 |
| `wool_socks` | 울 양말 | 착용:양말 | 따뜻함 |
| `stockings` | 스타킹 | 착용:양말 | 우아함 |
| `black_stockings` | 검은 스타킹 | 착용:양말 | 우아함, 섹시함 |
| `thigh_high_socks` | 사이하이삭스 | 착용:양말 | 귀여움 |
| `white_thigh_high_socks` | 흰 사이하이삭스 | 착용:양말 | 귀여움, 깔끔함 |
| `striped_thigh_high_socks` | 줄무늬 사이하이삭스 | 착용:양말 | 귀여움, 활동적 |

### 신발류
| unique_id | 이름 | 슬롯 | 분위기 | 추가 효과 |
|-----------|------|------|--------|----------|
| `simple_shoes` | 신발 | 착용:신발 | 깔끔함 | - |
| `leather_boots` | 가죽 부츠 | 착용:신발 | 활동적, 멋짐 | - |
| `high_heels` | 하이힐 | 착용:신발 | 우아함, 섹시함 | - |
| `sandals` | 샌들 | 착용:신발 | 활동적 | - |
| `slippers` | 슬리퍼 | 착용:신발 | - | - |
| `warm_boots` | 방한 부츠 | 착용:신발 | 따뜻함 | 보온+1 |

### 모자류
| unique_id | 이름 | 슬롯 | 분위기 | 추가 효과 |
|-----------|------|------|--------|----------|
| `straw_hat` | 밀짚모자 | 착용:모자 | 활동적 | - |
| `beret` | 베레모 | 착용:모자 | 우아함, 멋짐 | - |
| `wool_hat` | 털모자 | 착용:모자 | 따뜻함, 귀여움 | 보온+1 |
| `ribbon` | 리본 | 착용:모자 | 귀여움 | - |
| `hunting_cap` | 사냥 모자 | 착용:모자 | 활동적, 멋짐 | - |
| `maid_headband` | 메이드 머리띠 | 착용:모자 | 단정함, 귀여움 | - |

### 안경류
| unique_id | 이름 | 슬롯 | 분위기 |
|-----------|------|------|--------|
| `glasses` | 안경 | 착용:안경 | 단정함 |
| `round_glasses` | 둥근 안경 | 착용:안경 | 단정함, 귀여움 |
| `sunglasses` | 선글라스 | 착용:안경 | 멋짐 |
| `fashion_sunglasses` | 패션 선글라스 | 착용:안경 | 멋짐, 섹시함 |
| `monocle` | 모노클 | 착용:안경 | 우아함, 신비로움 |

### 망토류
| unique_id | 이름 | 슬롯 | 분위기 | 추가 효과 |
|-----------|------|------|--------|----------|
| `simple_cape` | 망토 | 착용:망토 | 신비로움 | - |
| `hooded_cloak` | 후드 망토 | 착용:망토 | 신비로움, 따뜻함 | 보온+1 |
| `velvet_cape` | 벨벳 망토 | 착용:망토 | 우아함, 멋짐 | - |
| `travel_cloak` | 여행용 망토 | 착용:망토 | 활동적, 따뜻함 | - |

---

## 2. 챕터별 의류 테스트

### 챕터 0 (프롤로그)
- [X] 플레이어가 누더기(`ragged_clothes`) 착용 상태로 시작
- [X] 인벤토리에서 누더기 확인 (장착 상태)
- [X] 누더기 벗기 시도 → 정상 동작 확인

### 챕터 1 (본편)
- [X] 챕터 전환 후 누더기 자동 제거 확인
- [X] 셔츠 + 바지 자동 지급 및 착용 확인
- [X] 인벤토리에서 착용 상태 표시 확인

---

## 3. 옷장 테스트

### 위치별 옷장 내용물
| 위치 | Location ID | 내용물 |
|------|------------|--------|
| 주인공 방 | 6 | 빈 옷장 |
| 리나 방 | 7 | 선드레스, 흰 블라우스, 반바지 |
| 세라 방 | 8 | 린넨 셔츠, 린넨 바지, 사냥용 조끼 |
| 밀라 방 | 9 | 블라우스, 긴 치마, 앞치마 |

### 테스트 순서
1. [X] 각 NPC 방으로 이동
2. [X] 옷장 클릭 → container UI 표시
3. [X] 옷 "가져가기" → 플레이어 인벤토리에 추가
4. [X] 옷 "넣기" → 옷장에 넣기 (clothing 카테고리만 가능)

---

## 4. 입기/벗기 테스트

### 플레이어 입기
1. [X] 인벤토리에서 옷 클릭
2. [X] "입기" 버튼 확인
3. [X] 입기 실행 → 착용 상태로 변경
4. [ ] 같은 슬롯 옷 입기 → 기존 옷 자동 해제

### 플레이어 벗기
1. [X] 인벤토리에서 착용 중인 옷 클릭
2. [X] "벗기" 버튼 확인
3. [X] 벗기 실행 → 미착용 상태로 변경

### 일체형 옷 테스트
1. [X] 상의 + 하의 따로 착용 상태에서
2. [X] 선드레스 입기 → 상의, 하의 둘 다 자동 해제
3. [X] 선드레스 착용 중 상의만 입기 → 선드레스 해제, 새 상의 착용

---

## 5. NPC 입히기/벗기기 테스트 (테스트용 기능)

### 사전 조건
- NPC를 Focus (클릭) 상태

### NPC 입히기
1. [ ] NPC 클릭하여 Focus
2. [ ] 플레이어 인벤토리에 옷이 있는 상태
3. [ ] "입히기" 버튼 확인
4. [ ] 입히기 실행 → NPC가 해당 옷 착용

### NPC 벗기기
1. [ ] NPC 클릭하여 Focus
2. [ ] NPC가 착용 중인 옷 확인
3. [ ] "벗기기" 버튼 확인
4. [ ] 벗기기 실행 → 옷이 플레이어 인벤토리로 이동

---

## 6. NPC 초기 의상 확인

### 챕터 1 시작 시 NPC 의상
| NPC | 착용 의상 |
|-----|----------|
| 세라 | 사냥복 + 사냥용 조끼 |
| 밀라 | 메이드복 + 밀라의 앞치마 |
| 리나 | 선드레스 |

### 테스트 순서
1. [ ] 챕터 1 시작
2. [ ] 각 NPC 클릭 → 장착 아이템 확인
3. [ ] NPC 인벤토리에서 착용 상태 표시 확인

---

## 참고: 파일 위치

### Python
- `assets/items/clothes.py` - 의류 아이템 클래스
- `assets/objects/furniture.py` - Wardrobe 클래스
- `chapters/chapter_0.py` - 프롤로그 누더기 장착
- `chapters/chapter_1.py` - 누더기 제거 + 일반 옷 지급
- `world/mansion.py` - NPC 옷 장착 (`_dress_npcs`)

### C# 핸들러
- `MetaActionHandler.cs` - wear/unwear/dress/undress case 추가
- `MetaActionHandler.Item.cs` - 핸들러 구현
- `Item.cs` - GetAllEquipPropKeys() 멀티슬롯 처리
