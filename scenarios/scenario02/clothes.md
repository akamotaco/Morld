# 의류 시스템 테스트 체크리스트

## 테스트 상태: 미테스트

---

## 현재 상태 요약

### 의류 슬롯 시스템
| 슬롯 | 키 형식 | 설명 |
|------|---------|------|
| 상의 | `착용:상의` | 셔츠, 블라우스 등 |
| 하의 | `착용:하의` | 바지, 치마 등 |
| 외투 | `착용:외투` | 코트, 조끼, 앞치마 (상의/하의 위에 중복 가능) |

### 일체형 의류
- 선드레스, 메이드복 등: `{"착용:상의": 1, "착용:하의": 1}` 두 슬롯 동시 점유
- 일체형 착용 시 기존 상의/하의 자동 해제

### 액션
| 액션 | 컨텍스트 | 설명 |
|------|---------|------|
| `wear` | @inventory | 입기 (플레이어) |
| `unwear` | @equipped | 벗기 (플레이어) |
| `dress` | @npc | 입히기 (NPC - 테스트용) |
| `undress` | @npc_equipped | 벗기기 (NPC - 테스트용) |

---

## 1. 의류 아이템 목록

### 일반 상의
| unique_id | 이름 | 슬롯 |
|-----------|------|------|
| `simple_shirt` | 셔츠 | 착용:상의 |
| `linen_shirt` | 린넨 셔츠 | 착용:상의 |
| `blouse` | 블라우스 | 착용:상의 |
| `white_blouse` | 흰 블라우스 | 착용:상의 |

### 일반 하의
| unique_id | 이름 | 슬롯 |
|-----------|------|------|
| `simple_pants` | 바지 | 착용:하의 |
| `linen_pants` | 린넨 바지 | 착용:하의 |
| `long_skirt` | 긴 치마 | 착용:하의 |
| `shorts` | 반바지 | 착용:하의 |

### 일체형 (상의+하의)
| unique_id | 이름 | 슬롯 |
|-----------|------|------|
| `ragged_clothes` | 누더기 | 착용:상의, 착용:하의 |
| `sundress` | 선드레스 | 착용:상의, 착용:하의 |
| `maid_dress` | 메이드복 | 착용:상의, 착용:하의 |
| `work_dress` | 작업복 | 착용:상의, 착용:하의 |
| `sera_hunting_outfit` | 사냥복 | 착용:상의, 착용:하의 |

### 외투
| unique_id | 이름 | 슬롯 | 추가 효과 |
|-----------|------|------|----------|
| `light_jacket` | 재킷 | 착용:외투 | - |
| `hunting_vest` | 사냥용 조끼 | 착용:외투 | 수납+2 |
| `apron` | 앞치마 | 착용:외투 | - |
| `mila_apron` | 밀라의 앞치마 | 착용:외투 | owner: mila |
| `warm_coat` | 코트 | 착용:외투 | 보온+2 |

---

## 2. 챕터별 의류 테스트

### 챕터 0 (프롤로그)
- [ ] 플레이어가 누더기(`ragged_clothes`) 착용 상태로 시작
- [ ] 인벤토리에서 누더기 확인 (장착 상태)
- [ ] 누더기 벗기 시도 → 정상 동작 확인

### 챕터 1 (본편)
- [ ] 챕터 전환 후 누더기 자동 제거 확인
- [ ] 셔츠 + 바지 자동 지급 및 착용 확인
- [ ] 인벤토리에서 착용 상태 표시 확인

---

## 3. 옷장 테스트

### 위치별 옷장 내용물
| 위치 | Location ID | 내용물 |
|------|------------|--------|
| 주인공 방 | 6 | 빈 옷장 |
| 리나 방 | 7 | 선드레스, 흰 블라우스, 반바지 |
| 세라 방 | 8 | 린넨 셔츠, 린넨 바지, 사냥용 조끼 |
| 밀라 방 | 9 | 블라우스, 긴 치마, 앞치마 |

### 테스트 순서
1. [ ] 각 NPC 방으로 이동
2. [ ] 옷장 클릭 → container UI 표시
3. [ ] 옷 "가져가기" → 플레이어 인벤토리에 추가
4. [ ] 옷 "넣기" → 옷장에 넣기 (clothing 카테고리만 가능)

---

## 4. 입기/벗기 테스트

### 플레이어 입기
1. [ ] 인벤토리에서 옷 클릭
2. [ ] "입기" 버튼 확인
3. [ ] 입기 실행 → 착용 상태로 변경
4. [ ] 같은 슬롯 옷 입기 → 기존 옷 자동 해제

### 플레이어 벗기
1. [ ] 인벤토리에서 착용 중인 옷 클릭
2. [ ] "벗기" 버튼 확인
3. [ ] 벗기 실행 → 미착용 상태로 변경

### 일체형 옷 테스트
1. [ ] 상의 + 하의 따로 착용 상태에서
2. [ ] 선드레스 입기 → 상의, 하의 둘 다 자동 해제
3. [ ] 선드레스 착용 중 상의만 입기 → 선드레스 해제, 새 상의 착용

---

## 5. NPC 입히기/벗기기 테스트 (테스트용 기능)

### 사전 조건
- NPC를 Focus (클릭) 상태

### NPC 입히기
1. [ ] NPC 클릭하여 Focus
2. [ ] 플레이어 인벤토리에 옷이 있는 상태
3. [ ] "입히기" 버튼 확인
4. [ ] 입히기 실행 → NPC가 해당 옷 착용

### NPC 벗기기
1. [ ] NPC 클릭하여 Focus
2. [ ] NPC가 착용 중인 옷 확인
3. [ ] "벗기기" 버튼 확인
4. [ ] 벗기기 실행 → 옷이 플레이어 인벤토리로 이동

---

## 6. NPC 초기 의상 확인

### 챕터 1 시작 시 NPC 의상
| NPC | 착용 의상 |
|-----|----------|
| 세라 | 사냥복 + 사냥용 조끼 |
| 밀라 | 메이드복 + 밀라의 앞치마 |
| 리나 | 선드레스 |

### 테스트 순서
1. [ ] 챕터 1 시작
2. [ ] 각 NPC 클릭 → 장착 아이템 확인
3. [ ] NPC 인벤토리에서 착용 상태 표시 확인

---

## 참고: 파일 위치

### Python
- `assets/items/clothes.py` - 의류 아이템 클래스
- `assets/objects/furniture.py` - Wardrobe 클래스
- `chapters/chapter_0.py` - 프롤로그 누더기 장착
- `chapters/chapter_1.py` - 누더기 제거 + 일반 옷 지급
- `world/mansion.py` - NPC 옷 장착 (`_dress_npcs`)

### C# 핸들러
- `MetaActionHandler.cs` - wear/unwear/dress/undress case 추가
- `MetaActionHandler.Item.cs` - 핸들러 구현
- `Item.cs` - GetAllEquipPropKeys() 멀티슬롯 처리
